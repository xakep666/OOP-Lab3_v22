\hypertarget{class_network_service_1_1_application}{}\section{Класс Network\+Service\+:\+:Application}
\label{class_network_service_1_1_application}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}


Класс, реализующий работу приложения  




{\ttfamily \#include $<$application.\+h$>$}



Граф связей класса Network\+Service\+:\+:Application\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=220pt]{class_network_service_1_1_application__coll__graph}
\end{center}
\end{figure}
\subsection*{Открытые типы}
\begin{DoxyCompactItemize}
\item 
typedef \hyperlink{class_network_service_1_1_server}{Server} \hyperlink{class_network_service_1_1_application_a4cbe718a4ebf378cf75cc55fe015177a}{index\+T}
\begin{DoxyCompactList}\small\item\em Определение типа для работы итератора \end{DoxyCompactList}\item 
typedef \hyperlink{class_network_service_1_1_my_iterator}{My\+Iterator}$<$ \hyperlink{class_network_service_1_1_application}{Application} $>$ \hyperlink{class_network_service_1_1_application_a206937019d86d3391a209e9883b44f7b}{Iterator}
\begin{DoxyCompactList}\small\item\em Специализация шаблонного типа \hyperlink{class_network_service_1_1_my_iterator}{My\+Iterator}. \end{DoxyCompactList}\item 
typedef \hyperlink{class_network_service_1_1_my_const_iterator}{My\+Const\+Iterator}$<$ \hyperlink{class_network_service_1_1_application}{Application} $>$ \hyperlink{class_network_service_1_1_application_a51fff3b7cce6bf84c2edbd887c0cac45}{Const\+Iterator}
\begin{DoxyCompactList}\small\item\em Специализация шаблонного типа \hyperlink{class_network_service_1_1_my_const_iterator}{My\+Const\+Iterator}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Открытые члены}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_network_service_1_1_application_abfad2c23a7824c984a7ee1e6141d732b}{Application} ()
\item 
void \hyperlink{class_network_service_1_1_application_a7c718890bcaa6cce31f29c1ae7e69b81}{add\+Server} (ulong addr, std\+::string name, ulong costpermin, ulong costpermb)
\begin{DoxyCompactList}\small\item\em Добавление нового сервера в таблицу \end{DoxyCompactList}\item 
void \hyperlink{class_network_service_1_1_application_ad09e462bffd3345934a1e3f3eca89774}{del\+Server} (ulong addr)
\begin{DoxyCompactList}\small\item\em Удаление сервера из таблицы \end{DoxyCompactList}\item 
\hyperlink{class_network_service_1_1_server}{Server} \& \hyperlink{class_network_service_1_1_application_acb73429fd01baca7eb138c316f05c97a}{get\+Server} (ulong addr)
\begin{DoxyCompactList}\small\item\em Находит сервер в таблице по адресу \end{DoxyCompactList}\item 
void \hyperlink{class_network_service_1_1_application_a7b18fb99b391286a0cf85c3c731b5982}{Set\+Server\+Address} (\hyperlink{class_network_service_1_1_server}{Server} \&srv, ulong newaddr)
\begin{DoxyCompactList}\small\item\em Изменение I\+P адреса сервера \end{DoxyCompactList}\item 
void \hyperlink{class_network_service_1_1_application_a31f7383eb1d003932ca6d3111571ef2e}{add\+Service} (ulong serveraddr, ulong abonentaddr, \hyperlink{class_network_service_1_1_service_descriptor}{Service\+Descriptor} $\ast$sdesc)
\begin{DoxyCompactList}\small\item\em Добавление записи об оказанной услуге в \char`\"{}таблицу связи\char`\"{} сервера \end{DoxyCompactList}\item 
std\+::vector$<$ std\+::string $>$ \hyperlink{class_network_service_1_1_application_a0b064e8f7ab3a8932a610f53713e12ab}{abonent\+Info} (ulong abonentaddr) const 
\begin{DoxyCompactList}\small\item\em Cбор информации о количестве переданных данных и длительности связи для абонента \end{DoxyCompactList}\item 
ulong \hyperlink{class_network_service_1_1_application_ab44d0123e96ef44496aab54effc42281}{abonent\+Total\+Price} (ulong abonentaddr) const 
\begin{DoxyCompactList}\small\item\em Считает итоговую стоимость оказанных услуг абонента \end{DoxyCompactList}\item 
std\+::pair$<$ ulong, ulong $>$ \hyperlink{class_network_service_1_1_application_a52c98b58888cda1930b1d88d99ab7af7}{count\+I\+O\+Traffic} () const 
\begin{DoxyCompactList}\small\item\em Считает количество переданных данных и количество полученных данных \end{DoxyCompactList}\item 
void \hyperlink{class_network_service_1_1_application_a670578bac65348d3c604fdf53585102b}{save\+To\+File} (std\+::string \&path)
\begin{DoxyCompactList}\small\item\em Сохраняет записи в J\+S\+O\+N формате в текстовый файл \end{DoxyCompactList}\item 
void \hyperlink{class_network_service_1_1_application_ab86f830805a3b9ab2909ea65f7eb48b8}{read\+From\+File} (std\+::string \&path)
\begin{DoxyCompactList}\small\item\em Считывает информацию о серверах и оказанных услугах из текстового файла, содержащего J\+S\+O\+N представление \end{DoxyCompactList}\item 
\hyperlink{class_network_service_1_1_application_a206937019d86d3391a209e9883b44f7b}{Iterator} \hyperlink{class_network_service_1_1_application_af79bea7489f0192a631af1477290af14}{begin} ()
\begin{DoxyCompactList}\small\item\em Итератор, указывающий на первый элемент таблицы \end{DoxyCompactList}\item 
\hyperlink{class_network_service_1_1_application_a51fff3b7cce6bf84c2edbd887c0cac45}{Const\+Iterator} \hyperlink{class_network_service_1_1_application_a2d3762c2bc3f66e96b1295ec584f779d}{begin} () const 
\begin{DoxyCompactList}\small\item\em Константный итератор, указывающий на первый элемент таблицы \end{DoxyCompactList}\item 
\hyperlink{class_network_service_1_1_application_a206937019d86d3391a209e9883b44f7b}{Iterator} \hyperlink{class_network_service_1_1_application_ab0fcfd1baa6f19b018ad6e8ab7ca122c}{end} ()
\begin{DoxyCompactList}\small\item\em Итератор, указывающий на конец таблицы (индекс, равный размеру) \end{DoxyCompactList}\item 
\hyperlink{class_network_service_1_1_application_a51fff3b7cce6bf84c2edbd887c0cac45}{Const\+Iterator} \hyperlink{class_network_service_1_1_application_ae464b274be530d8d8a546488780a077e}{end} () const 
\begin{DoxyCompactList}\small\item\em Константный итератор, указывающий на конец таблицы (индекс, равный размеру) \end{DoxyCompactList}\item 
\hyperlink{class_network_service_1_1_server}{Server} \& \hyperlink{class_network_service_1_1_application_a6dba76630cbd2d6863d2331475a18518}{operator\mbox{[}$\,$\mbox{]}} (uint index)
\begin{DoxyCompactList}\small\item\em Оператор индексирования таблицы серверов \end{DoxyCompactList}\item 
virtual \hyperlink{class_network_service_1_1_application_a5f806355ef363880214dc158c24951d6}{$\sim$\+Application} ()
\end{DoxyCompactItemize}
\subsection*{Открытые атрибуты}
\begin{DoxyCompactItemize}
\item 
const uint \hyperlink{class_network_service_1_1_application_a95664d256ae9f339502b82b462d46365}{Services\+Num} = 3
\begin{DoxyCompactList}\small\item\em Количество возможных вариантов сервиса (почта,файлы,сеть) \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Закрытые члены}
\begin{DoxyCompactItemize}
\item 
bool \hyperlink{class_network_service_1_1_application_a3bc3a188eb55fad7bdd9be11af54391b}{is\+I\+P\+Busy} (ulong addr) const 
\begin{DoxyCompactList}\small\item\em Проверка, занят ли адрес \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Закрытые данные}
\begin{DoxyCompactItemize}
\item 
std\+::vector$<$ \hyperlink{class_network_service_1_1_application_a4cbe718a4ebf378cf75cc55fe015177a}{index\+T} $>$ \hyperlink{class_network_service_1_1_application_af499fff927e0ee95480eeac2f4bb464b}{servers}
\begin{DoxyCompactList}\small\item\em Таблица серверов \end{DoxyCompactList}\item 
std\+::vector$<$ ulong $>$ \hyperlink{class_network_service_1_1_application_a9709635bcf03ef131a655ca1c58efa6b}{used\+I\+Ps}
\begin{DoxyCompactList}\small\item\em Таблица использованных адресов \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Друзья}
\begin{DoxyCompactItemize}
\item 
class \hyperlink{class_network_service_1_1_application_ad14d365afc30a96b618aab998f4572e5}{My\+Iterator$<$ Application $>$}
\end{DoxyCompactItemize}


\subsection{Подробное описание}
Класс, реализующий работу приложения 

Отвечает за взаимодействия прикладной программы с библиотекой 

\subsection{Определения типов}
\hypertarget{class_network_service_1_1_application_a51fff3b7cce6bf84c2edbd887c0cac45}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!Const\+Iterator@{Const\+Iterator}}
\index{Const\+Iterator@{Const\+Iterator}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{Const\+Iterator}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf My\+Const\+Iterator}$<${\bf Application}$>$ {\bf Network\+Service\+::\+Application\+::\+Const\+Iterator}}\label{class_network_service_1_1_application_a51fff3b7cce6bf84c2edbd887c0cac45}


Специализация шаблонного типа \hyperlink{class_network_service_1_1_my_const_iterator}{My\+Const\+Iterator}. 

\hypertarget{class_network_service_1_1_application_a4cbe718a4ebf378cf75cc55fe015177a}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!index\+T@{index\+T}}
\index{index\+T@{index\+T}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{index\+T}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf Server} {\bf Network\+Service\+::\+Application\+::index\+T}}\label{class_network_service_1_1_application_a4cbe718a4ebf378cf75cc55fe015177a}


Определение типа для работы итератора 

\hypertarget{class_network_service_1_1_application_a206937019d86d3391a209e9883b44f7b}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!Iterator@{Iterator}}
\index{Iterator@{Iterator}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{Iterator}]{\setlength{\rightskip}{0pt plus 5cm}typedef {\bf My\+Iterator}$<${\bf Application}$>$ {\bf Network\+Service\+::\+Application\+::\+Iterator}}\label{class_network_service_1_1_application_a206937019d86d3391a209e9883b44f7b}


Специализация шаблонного типа \hyperlink{class_network_service_1_1_my_iterator}{My\+Iterator}. 



\subsection{Конструктор(ы)}
\hypertarget{class_network_service_1_1_application_abfad2c23a7824c984a7ee1e6141d732b}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!Application@{Application}}
\index{Application@{Application}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{Application}]{\setlength{\rightskip}{0pt plus 5cm}Network\+Service\+::\+Application\+::\+Application (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{class_network_service_1_1_application_abfad2c23a7824c984a7ee1e6141d732b}
\hypertarget{class_network_service_1_1_application_a5f806355ef363880214dc158c24951d6}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!````~Application@{$\sim$\+Application}}
\index{````~Application@{$\sim$\+Application}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{$\sim$\+Application}]{\setlength{\rightskip}{0pt plus 5cm}virtual Network\+Service\+::\+Application\+::$\sim$\+Application (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\label{class_network_service_1_1_application_a5f806355ef363880214dc158c24951d6}


\subsection{Методы}
\hypertarget{class_network_service_1_1_application_a0b064e8f7ab3a8932a610f53713e12ab}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!abonent\+Info@{abonent\+Info}}
\index{abonent\+Info@{abonent\+Info}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{abonent\+Info}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ std\+::string $>$ Application\+::abonent\+Info (
\begin{DoxyParamCaption}
\item[{ulong}]{abonentaddr}
\end{DoxyParamCaption}
) const}\label{class_network_service_1_1_application_a0b064e8f7ab3a8932a610f53713e12ab}


Cбор информации о количестве переданных данных и длительности связи для абонента 


\begin{DoxyParams}{Аргументы}
{\em abonentaddr} & I\+P адрес абонента \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Возвращает}
vector из string -\/ текстовое представление собранной информации 
\end{DoxyReturn}

\begin{DoxyExceptions}{Исключения}
{\em invalid\+\_\+argument} & если адрес абонента неверен или не найден\\
\hline
\end{DoxyExceptions}
Метод проходит по всем серверам и их таблицам связи, используя итераторы, собирая информацию во \char`\"{}временную\char`\"{} коллекцию следующего вида 
\begin{DoxyCodeInclude}
    std::vector<std::pair<ulong,ulong>> counter;
    counter.reserve(\hyperlink{class_network_service_1_1_application_a95664d256ae9f339502b82b462d46365}{ServicesNum});
\end{DoxyCodeInclude}
Первый элемент пары -\/ суммарный траффик для сервиса (передано+получено), Второй -\/ Общая длительность связи для сервиса (не для всех сервисов) Вектор result резервируется для 3-\/х сервисов \mbox{[}countervec\mbox{]}

\mbox{[}countervec\mbox{]} \hypertarget{class_network_service_1_1_application_ab44d0123e96ef44496aab54effc42281}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!abonent\+Total\+Price@{abonent\+Total\+Price}}
\index{abonent\+Total\+Price@{abonent\+Total\+Price}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{abonent\+Total\+Price}]{\setlength{\rightskip}{0pt plus 5cm}ulong Application\+::abonent\+Total\+Price (
\begin{DoxyParamCaption}
\item[{ulong}]{abonentaddr}
\end{DoxyParamCaption}
) const}\label{class_network_service_1_1_application_ab44d0123e96ef44496aab54effc42281}


Считает итоговую стоимость оказанных услуг абонента 


\begin{DoxyParams}{Аргументы}
{\em abonentaddr} & I\+P адрес абонента \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Возвращает}
Итоговая стоимость
\end{DoxyReturn}
Метод проходит по всем серверам и их \char`\"{}таблицам связи\char`\"{} (используются итераторы), вызывая для каждой записи виртуальную функцию calculate\+Price() и прибавляя ее результат к итоговому \hypertarget{class_network_service_1_1_application_a7c718890bcaa6cce31f29c1ae7e69b81}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!add\+Server@{add\+Server}}
\index{add\+Server@{add\+Server}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{add\+Server}]{\setlength{\rightskip}{0pt plus 5cm}void Application\+::add\+Server (
\begin{DoxyParamCaption}
\item[{ulong}]{addr, }
\item[{std\+::string}]{name, }
\item[{ulong}]{costpermin, }
\item[{ulong}]{costpermb}
\end{DoxyParamCaption}
)}\label{class_network_service_1_1_application_a7c718890bcaa6cce31f29c1ae7e69b81}


Добавление нового сервера в таблицу 


\begin{DoxyParams}{Аргументы}
{\em addr} & I\+P адрес сервера \\
\hline
{\em name} & Имя сервера \\
\hline
{\em costpermin} & Стоимость 1 минуты связи \\
\hline
{\em costpermb} & Стоимость 1\+M\+B переданных данных \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Исключения}
{\em invalid\+\_\+argument} & если I\+P адрес сервера неверный \\
\hline
{\em logic\+\_\+error} & если I\+P адрес занят(используется)\\
\hline
\end{DoxyExceptions}
Метод добавляет новый сервер в таблицу, в случае успешного добавления сервера I\+P адрес добавляется в таблицу используемых адресов \hypertarget{class_network_service_1_1_application_a31f7383eb1d003932ca6d3111571ef2e}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!add\+Service@{add\+Service}}
\index{add\+Service@{add\+Service}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{add\+Service}]{\setlength{\rightskip}{0pt plus 5cm}void Application\+::add\+Service (
\begin{DoxyParamCaption}
\item[{ulong}]{serveraddr, }
\item[{ulong}]{abonentaddr, }
\item[{{\bf Service\+Descriptor} $\ast$}]{sdesc}
\end{DoxyParamCaption}
)}\label{class_network_service_1_1_application_a31f7383eb1d003932ca6d3111571ef2e}


Добавление записи об оказанной услуге в \char`\"{}таблицу связи\char`\"{} сервера 


\begin{DoxyParams}{Аргументы}
{\em serveraddr} & I\+P адрес сервера \\
\hline
{\em abonentaddr} & I\+P адрес клиента \\
\hline
{\em sdesc} & Указатель на описатель сервиса (полиморфный \hyperlink{class_network_service_1_1_service_descriptor}{Service\+Descriptor}) \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Исключения}
{\em invalid\+\_\+argument} & Если\+:
\begin{DoxyItemize}
\item Неверный I\+P сервера
\item Неверный I\+P клиента
\item В качестве указателя на \hyperlink{class_network_service_1_1_service_descriptor}{Service\+Descriptor} передан нулевой указатель
\end{DoxyItemize}\\
\hline
\end{DoxyExceptions}
Метод ищет сервер в таблице серверов и добавляет в его \char`\"{}таблицу связи\char`\"{} информацию об оказанной услуге. Также метод добавляет I\+P адрес клиента в таблицу занятых адресов, если такого адреса там еще нет \hypertarget{class_network_service_1_1_application_af79bea7489f0192a631af1477290af14}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!begin@{begin}}
\index{begin@{begin}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{begin}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Application\+::\+Iterator} Application\+::begin (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{class_network_service_1_1_application_af79bea7489f0192a631af1477290af14}


Итератор, указывающий на первый элемент таблицы 

\begin{DoxyReturn}{Возвращает}
объект Iterator 
\end{DoxyReturn}
\hypertarget{class_network_service_1_1_application_a2d3762c2bc3f66e96b1295ec584f779d}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!begin@{begin}}
\index{begin@{begin}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{begin}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Application\+::\+Const\+Iterator} Application\+::begin (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\label{class_network_service_1_1_application_a2d3762c2bc3f66e96b1295ec584f779d}


Константный итератор, указывающий на первый элемент таблицы 

\begin{DoxyReturn}{Возвращает}
объект Const\+Iterator 
\end{DoxyReturn}
\hypertarget{class_network_service_1_1_application_a52c98b58888cda1930b1d88d99ab7af7}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!count\+I\+O\+Traffic@{count\+I\+O\+Traffic}}
\index{count\+I\+O\+Traffic@{count\+I\+O\+Traffic}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{count\+I\+O\+Traffic}]{\setlength{\rightskip}{0pt plus 5cm}std\+::pair$<$ ulong, ulong $>$ Application\+::count\+I\+O\+Traffic (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\label{class_network_service_1_1_application_a52c98b58888cda1930b1d88d99ab7af7}


Считает количество переданных данных и количество полученных данных 

\begin{DoxyReturn}{Возвращает}
пара значений\+: первое -\/ количество переданных данных, второе -\/ количество полученных
\end{DoxyReturn}
Метод проходит по всем серверам и их \char`\"{}таблицам связи\char`\"{} (используются итераторы), считывает количество данных и направление их передачи, добавляя к результату \hypertarget{class_network_service_1_1_application_ad09e462bffd3345934a1e3f3eca89774}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!del\+Server@{del\+Server}}
\index{del\+Server@{del\+Server}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{del\+Server}]{\setlength{\rightskip}{0pt plus 5cm}void Application\+::del\+Server (
\begin{DoxyParamCaption}
\item[{ulong}]{addr}
\end{DoxyParamCaption}
)}\label{class_network_service_1_1_application_ad09e462bffd3345934a1e3f3eca89774}


Удаление сервера из таблицы 


\begin{DoxyParams}{Аргументы}
{\em addr} & I\+P адрес удаляемого сервера \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Исключения}
{\em invalid\+\_\+argument} & если I\+P неверный или сервер с таким адресом не был наиден\\
\hline
\end{DoxyExceptions}
Метод удаляет сервер из таблицы серверов, также I\+P адрес удаляется из таблицы использованных адресов \hypertarget{class_network_service_1_1_application_ab0fcfd1baa6f19b018ad6e8ab7ca122c}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!end@{end}}
\index{end@{end}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{end}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Application\+::\+Iterator} Application\+::end (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{class_network_service_1_1_application_ab0fcfd1baa6f19b018ad6e8ab7ca122c}


Итератор, указывающий на конец таблицы (индекс, равный размеру) 

\begin{DoxyReturn}{Возвращает}
объект Iterator 
\end{DoxyReturn}
\hypertarget{class_network_service_1_1_application_ae464b274be530d8d8a546488780a077e}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!end@{end}}
\index{end@{end}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{end}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Application\+::\+Const\+Iterator} Application\+::end (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
) const}\label{class_network_service_1_1_application_ae464b274be530d8d8a546488780a077e}


Константный итератор, указывающий на конец таблицы (индекс, равный размеру) 

\begin{DoxyReturn}{Возвращает}
объект Const\+Iterator 
\end{DoxyReturn}
\hypertarget{class_network_service_1_1_application_acb73429fd01baca7eb138c316f05c97a}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!get\+Server@{get\+Server}}
\index{get\+Server@{get\+Server}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{get\+Server}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Server} \& Application\+::get\+Server (
\begin{DoxyParamCaption}
\item[{ulong}]{addr}
\end{DoxyParamCaption}
)}\label{class_network_service_1_1_application_acb73429fd01baca7eb138c316f05c97a}


Находит сервер в таблице по адресу 


\begin{DoxyParams}{Аргументы}
{\em addr} & I\+P адрес предполагаемого сервера \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Возвращает}
ссылка на объект \hyperlink{class_network_service_1_1_server}{Server} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Исключения}
{\em invalid\+\_\+argument} & если I\+P адрес неверный или сервера с таким адресом не найдено \\
\hline
\end{DoxyExceptions}
\hypertarget{class_network_service_1_1_application_a3bc3a188eb55fad7bdd9be11af54391b}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!is\+I\+P\+Busy@{is\+I\+P\+Busy}}
\index{is\+I\+P\+Busy@{is\+I\+P\+Busy}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{is\+I\+P\+Busy}]{\setlength{\rightskip}{0pt plus 5cm}bool Application\+::is\+I\+P\+Busy (
\begin{DoxyParamCaption}
\item[{ulong}]{addr}
\end{DoxyParamCaption}
) const\hspace{0.3cm}{\ttfamily [private]}}\label{class_network_service_1_1_application_a3bc3a188eb55fad7bdd9be11af54391b}


Проверка, занят ли адрес 


\begin{DoxyParams}{Аргументы}
{\em addr} & Проверяемый адрес \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Возвращает}
true, если занят, false, если свободен
\end{DoxyReturn}
Метод ищет проверяемый адрес в таблице используемых адресов \hypertarget{class_network_service_1_1_application_a6dba76630cbd2d6863d2331475a18518}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!operator\mbox{[}$\,$\mbox{]}@{operator[]}}
\index{operator\mbox{[}$\,$\mbox{]}@{operator[]}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{operator[]}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Server} \& Application\+::operator\mbox{[}$\,$\mbox{]} (
\begin{DoxyParamCaption}
\item[{uint}]{index}
\end{DoxyParamCaption}
)}\label{class_network_service_1_1_application_a6dba76630cbd2d6863d2331475a18518}


Оператор индексирования таблицы серверов 


\begin{DoxyParams}{Аргументы}
{\em index} & Индекс \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Возвращает}
Ссылка на объект \hyperlink{class_network_service_1_1_server}{Server} 
\end{DoxyReturn}

\begin{DoxyExceptions}{Исключения}
{\em invalid\+\_\+argument} & если index больше, чем размер таблицы\\
\hline
\end{DoxyExceptions}
Метод использует перегруженный оператор для \mbox{[}\mbox{]} для таблицы серверов. Метод необходим для работы итераторов \hypertarget{class_network_service_1_1_application_ab86f830805a3b9ab2909ea65f7eb48b8}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!read\+From\+File@{read\+From\+File}}
\index{read\+From\+File@{read\+From\+File}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{read\+From\+File}]{\setlength{\rightskip}{0pt plus 5cm}void Application\+::read\+From\+File (
\begin{DoxyParamCaption}
\item[{std\+::string \&}]{path}
\end{DoxyParamCaption}
)}\label{class_network_service_1_1_application_ab86f830805a3b9ab2909ea65f7eb48b8}


Считывает информацию о серверах и оказанных услугах из текстового файла, содержащего J\+S\+O\+N представление 


\begin{DoxyParams}{Аргументы}
{\em path} & Путь к исходному файлу \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Исключения}
{\em invalid\+\_\+argument} & если не удалось открыть файл на чтение \\
\hline
{\em logic\+\_\+error} & в случае ошибки разбора\\
\hline
\end{DoxyExceptions}
Метод разбирает J\+S\+O\+N представление, взятое из файла, восстанавливая информацию о серверах и оказанных услугах \hypertarget{class_network_service_1_1_application_a670578bac65348d3c604fdf53585102b}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!save\+To\+File@{save\+To\+File}}
\index{save\+To\+File@{save\+To\+File}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{save\+To\+File}]{\setlength{\rightskip}{0pt plus 5cm}void Application\+::save\+To\+File (
\begin{DoxyParamCaption}
\item[{std\+::string \&}]{path}
\end{DoxyParamCaption}
)}\label{class_network_service_1_1_application_a670578bac65348d3c604fdf53585102b}


Сохраняет записи в J\+S\+O\+N формате в текстовый файл 


\begin{DoxyParams}{Аргументы}
{\em path} & Путь к файлу назначения \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Исключения}
{\em logic\+\_\+error} & в случае ошибки открытия файла на запись\\
\hline
\end{DoxyExceptions}
Метод проходит по всем серверам и их \char`\"{}таблицам связи\char`\"{} (используются итераторы), сохраняя информацию в J\+S\+O\+N формате в текстовый файл \hypertarget{class_network_service_1_1_application_a7b18fb99b391286a0cf85c3c731b5982}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!Set\+Server\+Address@{Set\+Server\+Address}}
\index{Set\+Server\+Address@{Set\+Server\+Address}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{Set\+Server\+Address}]{\setlength{\rightskip}{0pt plus 5cm}void Application\+::\+Set\+Server\+Address (
\begin{DoxyParamCaption}
\item[{{\bf Server} \&}]{srv, }
\item[{ulong}]{newaddr}
\end{DoxyParamCaption}
)}\label{class_network_service_1_1_application_a7b18fb99b391286a0cf85c3c731b5982}


Изменение I\+P адреса сервера 


\begin{DoxyParams}{Аргументы}
{\em srv} & Ссылка на объект \hyperlink{class_network_service_1_1_server}{Server} \\
\hline
{\em newaddr} & Новый адрес \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Исключения}
{\em invalid\+\_\+argument} & если адрес неверный или занят\\
\hline
\end{DoxyExceptions}
Метод меняет своиство address у объекта \hyperlink{class_network_service_1_1_server}{Server}, проверяя новый адрес на занятость по таблице занятых адресов и на правильность 

\subsection{Документация по друзьям класса и функциям, относящимся к классу}
\hypertarget{class_network_service_1_1_application_ad14d365afc30a96b618aab998f4572e5}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!My\+Iterator$<$ Application $>$@{My\+Iterator$<$ Application $>$}}
\index{My\+Iterator$<$ Application $>$@{My\+Iterator$<$ Application $>$}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{My\+Iterator$<$ Application $>$}]{\setlength{\rightskip}{0pt plus 5cm}friend class {\bf My\+Iterator}$<$ {\bf Application} $>$\hspace{0.3cm}{\ttfamily [friend]}}\label{class_network_service_1_1_application_ad14d365afc30a96b618aab998f4572e5}


\subsection{Данные класса}
\hypertarget{class_network_service_1_1_application_af499fff927e0ee95480eeac2f4bb464b}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!servers@{servers}}
\index{servers@{servers}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{servers}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<${\bf index\+T}$>$ Network\+Service\+::\+Application\+::servers\hspace{0.3cm}{\ttfamily [private]}}\label{class_network_service_1_1_application_af499fff927e0ee95480eeac2f4bb464b}


Таблица серверов 

\hypertarget{class_network_service_1_1_application_a95664d256ae9f339502b82b462d46365}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!Services\+Num@{Services\+Num}}
\index{Services\+Num@{Services\+Num}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{Services\+Num}]{\setlength{\rightskip}{0pt plus 5cm}const uint Network\+Service\+::\+Application\+::\+Services\+Num = 3}\label{class_network_service_1_1_application_a95664d256ae9f339502b82b462d46365}


Количество возможных вариантов сервиса (почта,файлы,сеть) 

\hypertarget{class_network_service_1_1_application_a9709635bcf03ef131a655ca1c58efa6b}{}\index{Network\+Service\+::\+Application@{Network\+Service\+::\+Application}!used\+I\+Ps@{used\+I\+Ps}}
\index{used\+I\+Ps@{used\+I\+Ps}!Network\+Service\+::\+Application@{Network\+Service\+::\+Application}}
\subsubsection[{used\+I\+Ps}]{\setlength{\rightskip}{0pt plus 5cm}std\+::vector$<$ulong$>$ Network\+Service\+::\+Application\+::used\+I\+Ps\hspace{0.3cm}{\ttfamily [private]}}\label{class_network_service_1_1_application_a9709635bcf03ef131a655ca1c58efa6b}


Таблица использованных адресов 



Объявления и описания членов классов находятся в файлах\+:\begin{DoxyCompactItemize}
\item 
Network\+Service\+Lib/\hyperlink{application_8h}{application.\+h}\item 
Network\+Service\+Lib/\hyperlink{application_8cpp}{application.\+cpp}\end{DoxyCompactItemize}
